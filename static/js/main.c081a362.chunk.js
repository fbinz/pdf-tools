(this["webpackJsonppdf-tools"]=this["webpackJsonppdf-tools"]||[]).push([[0],{77:function(e,t,n){e.exports=n(98)},82:function(e,t,n){},84:function(e,t,n){},98:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n.n(a),c=n(25),o=n.n(c);n(82),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var s=n(9),u=n.n(s),l=n(24),i=n(28),f=n(11),p=n(12),m=n(102),d=n(103),b=n(47),v=n(39),h=(n(84),n(18)),g=n(22),x=n.n(g),y=n(23),w=n(34),E=n(37);function O(e){var t=new FileReader;return new Promise((function(n,a){t.onerror=function(){t.abort(),a("Could not read file named ".concat(e.name,", error: ").concat(t.error))},t.onload=function(){n(t.result)},t.readAsArrayBuffer(e)}))}function j(e,t,n){var r=Object(a.useState)(e),c=Object(f.a)(r,2),o=c[0],s=c[1];return[o,function(e){s(e<t?t:e>n?n:e)}]}var k=n(104),N=function(){function e(t,n){Object(y.a)(this,e),this.file=t,this.pdfDoc=n,this.id=Object(k.a)()}return Object(w.a)(e,[{key:"load",value:function(){var e=Object(p.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.pdfDoc){e.next=7;break}return e.next=3,O(this.file);case 3:return t=e.sent,e.next=6,E.PDFDocument.load(t);case 6:this.pdfDoc=e.sent;case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"blobUrl",value:function(){var e=Object(p.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.pdfDoc.save();case 2:return t=e.sent,n=new Blob([t],{type:"application/pdf"}),e.abrupt("return",URL.createObjectURL(n));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"pageCount",get:function(){return this.pdfDoc?this.pdfDoc.getPageCount():0}},{key:"name",get:function(){return this.file.name}}],[{key:"copyPages",value:function(){var t=Object(p.a)(u.a.mark((function t(n,a,r){var c,o,s,l,f;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,E.PDFDocument.create();case 2:return c=t.sent,t.next=5,c.copyPages(n.pdfDoc,r);case 5:o=t.sent,s=Object(i.a)(o);try{for(s.s();!(l=s.n()).done;)f=l.value,c.addPage(f)}catch(u){s.e(u)}finally{s.f()}return t.abrupt("return",new e({name:a},c));case 9:case"end":return t.stop()}}),t)})));return function(e,n,a){return t.apply(this,arguments)}}()},{key:"split",value:function(){var t=Object(p.a)(u.a.mark((function t(n,a){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=x.a.clamp(a,0,n.pageCount),t.abrupt("return",Promise.all([e.copyPages(n,n.file.name+"A",x.a.range(a)),e.copyPages(n,n.file.name+"B",x.a.range(a,n.pageCount))]));case 2:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},{key:"extractPages",value:function(){var t=Object(p.a)(u.a.mark((function t(n,a){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.copyPages(n,n.file.name+"_extracted",a));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},{key:"merge",value:function(){var t=Object(p.a)(u.a.mark((function t(n,a){var r,c,o;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=function(){return(o=Object(p.a)(u.a.mark((function e(t){var n,a,c,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.copyPages(t.pdfDoc,t.pdfDoc.getPageIndices());case 2:n=e.sent,a=Object(i.a)(n);try{for(a.s();!(c=a.n()).done;)o=c.value,r.addPage(o)}catch(s){a.e(s)}finally{a.f()}case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)},c=function(e){return o.apply(this,arguments)},t.next=4,E.PDFDocument.create();case 4:return r=t.sent,t.next=7,c(n);case 7:return t.next=9,c(a);case 9:return t.abrupt("return",new e({name:n.file.name},r));case 10:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),D=n(74);function P(e){return C.apply(this,arguments)}function C(){return(C=Object(p.a)(u.a.mark((function e(t){var n,a,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.blobUrl();case 2:n=e.sent,(a=document.createElement("a")).href=n,a.download="download",r=function e(){setTimeout((function(){URL.revokeObjectURL(n),a.removeEventListener("click",e)}),150)},a.addEventListener("click",r,!1),a.click();case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function F(){var e=Object(a.useState)(new Map),t=Object(f.a)(e,2),n=t[0],c=t[1];return r.a.createElement(m.a,{backend:b.a},r.a.createElement("div",{className:"w-full"},r.a.createElement(S,{onDrop:function(e,t){return n=e.files,void c(Object(h.a)((function(e){var t,a=Object(i.a)(n);try{for(a.s();!(t=a.n()).done;){var r=t.value,c=new N(r);e.set(c.id,c)}}catch(o){a.e(o)}finally{a.f()}})));var n},canDrop:function(e,t){return!0}},r.a.createElement("div",{className:"p-10 items-center border-2 rounded-md border-dashed border-gray-500 bg-gray-300 hover:border-blue-500"},r.a.createElement(L,{pdfDocs:n,setPdfDocs:c})))),r.a.createElement("div",{className:"flex w-full flow-row justify-between"},r.a.createElement(A,{className:"flex-1",onClick:function(){return function(){var e,t=Object(i.a)(n);try{for(t.s();!(e=t.n()).done;){var a=Object(f.a)(e.value,2);a[0];P(a[1])}}catch(r){t.e(r)}finally{t.f()}}()}},"Download All")))}function S(e){var t=Object(d.a)({accept:b.b.FILE,drop:function(t,n){e.onDrop(t,n)},canDrop:function(t,n){return e.canDrop(t,n)}}),n=Object(f.a)(t,2)[1];return r.a.createElement("div",{ref:n},e.children)}function L(e){var t=e.pdfDocs,n=e.setPdfDocs;function a(){return(a=Object(p.a)(u.a.mark((function e(a,r){var c,o,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=t.get(a),o=t.get(r),e.next=4,N.merge(c,o);case 4:s=e.sent,n(Object(h.a)((function(e){e.delete(a),e.delete(r),e.set(s.id,s)})));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return r.a.createElement(v.a,{onDragEnd:function(e){var t,r;e.destination?(t=e.source.index,r=e.destination.index,n(Object(h.a)((function(e){var n=Object(l.a)(e),a=n.splice(t,1),c=Object(f.a)(a,1)[0];n.splice(r,0,c);var o=new Map;return n.forEach((function(e){return o.set.apply(o,Object(l.a)(e))})),o})))):e.combine&&function(e,t){a.apply(this,arguments)}(e.combine.draggableId,e.draggableId)}},r.a.createElement(v.c,{droppableId:"droppable",isCombineEnabled:!0},(function(e,a){return r.a.createElement("div",Object.assign({},e.droppableProps,{ref:e.innerRef}),Object(l.a)(t).map((function(e,t){var a=Object(f.a)(e,2),c=a[0],o=a[1];return r.a.createElement(v.b,{key:c,draggableId:c,index:t},(function(e,t){return r.a.createElement("div",Object.assign({className:"relative w-full",ref:e.innerRef},e.draggableProps,e.dragHandleProps),r.a.createElement(T,{doc:o,setPdfDocs:n}),t.combineTargetFor?r.a.createElement("div",{className:"absolute inset-0 w-full h-full bg-blue-200 text-center opacity-50"},r.a.createElement("div",{className:"text-sm"},"DROP TO MERGE")):null)}))})),e.placeholder)})))}function R(e,t){return I.apply(this,arguments)}function I(){return(I=Object(p.a)(u.a.mark((function e(t,n){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.doc,n.signal,e.next=4,a.load();case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T(e){var t=e.doc,n=e.setPdfDocs,c=Object(D.a)({promiseFn:R,doc:t}),o=(c.__,c.error,c.isPending),s=Object(a.useState)(!1),l=Object(f.a)(s,2),i=l[0],m=l[1],d=j(1,1,100),b=Object(f.a)(d,2),v=b[0],g=b[1],y=j(100,1,100),w=Object(f.a)(y,2),E=w[0],O=w[1],k=j(1,1,100),C=Object(f.a)(k,2),F=C[0],S=C[1],L=Object(a.useState)(!1),I=Object(f.a)(L,2),T=I[0],U=I[1],B=Object(a.useState)(1),M=Object(f.a)(B,2),W=M[0],_=M[1];function J(){return(J=Object(p.a)(u.a.mark((function e(){var a,r,c,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.split(t,W);case 2:a=e.sent,r=Object(f.a)(a,2),c=r[0],o=r[1],n(Object(h.a)((function(e){e.delete(t.id),e.set(c.id,c),e.set(o.id,o)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return r.a.createElement("div",{className:"flex flex-col rounded border border-gray-400 p-2 w-full bg-gray-200 relative"},r.a.createElement("div",{className:"flex items-center"},r.a.createElement("div",{className:"flex-1"},t.name," ",o?"Loading....":"(".concat(t.pageCount,")")),r.a.createElement(A,{className:"text-sm ml-1",onClick:function(){return m(!i)}},"EXTRACT"),r.a.createElement(A,{className:"text-sm ml-1",onClick:function(){return U(!T)}},"SPLIT"),r.a.createElement(A,{className:"text-sm ml-1",onClick:function(){n(Object(h.a)((function(e){e.delete(t.id)})))}},"REMOVE"),r.a.createElement(A,{className:"text-sm ml-1",onClick:function(){return P(t)}},"DOWNLOAD")),function(){if(!i)return null;function e(){return(e=Object(p.a)(u.a.mark((function e(){var a,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=x.a.range(v-1,E,F),e.next=3,N.extractPages(t,a);case 3:r=e.sent,n(Object(h.a)((function(e){e.delete(t.id),e.set(r.id,r)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return r.a.createElement("div",{className:"flex flex-col w-full"},r.a.createElement("hr",{className:"my-2"}),r.a.createElement("div",{className:"flex justify-end"},r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"extract-start"},"Start:"),r.a.createElement("input",{className:"w-20",id:"extract-start",name:"extract-start",type:"number",step:1,onChange:function(e){return g(e.target.value)},value:v}),r.a.createElement("label",{htmlFor:"extract-stop"},"Stop:"),r.a.createElement("input",{className:"w-20",id:"extract-stop",name:"extract-stop",type:"number",step:1,onChange:function(e){return O(e.target.value)},value:E}),r.a.createElement("label",{htmlFor:"extract-step"},"Step:"),r.a.createElement("input",{className:"w-20",id:"extract-step",name:"extract-step",type:"number",step:1,onChange:function(e){return S(e.target.value)},value:F}),r.a.createElement(A,{type:"submit",onClick:function(){return function(){return e.apply(this,arguments)}()}},"Extract Pages"))))}(),T?r.a.createElement("div",{className:"flex flex-col w-full"},r.a.createElement("hr",{className:"my-2"}),r.a.createElement("div",{className:"flex justify-end"},r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"extract-start"},"Where:"),r.a.createElement("input",{className:"w-20",id:"split-where",name:"split-where",type:"number",step:1,onChange:function(e){return _(e.target.value)},value:W}),r.a.createElement(A,{type:"submit",onClick:function(){return function(){return J.apply(this,arguments)}()}},"Split Pages")))):null)}function A(e){return r.a.createElement("button",Object.assign({className:"bg-gray-100 rounded border border-gray-400 p-1 "+(e.className?e.className:"")},x.a.omit(e,["className","children"])),e.children)}var U=function(){return r.a.createElement("div",{className:"flex justify-center w-full"},r.a.createElement("div",{className:"flex flex-col text-gray-800 items-center w-3/4"},r.a.createElement("h1",{className:"tracking-wider pt-10 text-center text-4xl"},"PDF-TOOLS"),r.a.createElement("h2",{className:"text-center mb-10"},"no upload - just your browser"),r.a.createElement(F,null)))};Object(h.b)(),o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(U,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[77,1,2]]]);
//# sourceMappingURL=main.c081a362.chunk.js.map